# -----------------------------------------------------------------------------
# AXIOM: CROSS_COMPILE CONCATENATION
# -----------------------------------------------------------------------------
# CROSS_COMPILE = ""                    → CC = "" + "gcc" = "gcc"
# CROSS_COMPILE = "aarch64-linux-gnu-"  → CC = "aarch64-linux-gnu-" + "gcc" = "aarch64-linux-gnu-gcc"
# -----------------------------------------------------------------------------

CC = $(CROSS_COMPILE)gcc

# -----------------------------------------------------------------------------
# AXIOM: TARGET NAME
# -----------------------------------------------------------------------------
# Output binary name = "writer"
# -----------------------------------------------------------------------------

TARGET = writer

# -----------------------------------------------------------------------------
# AXIOM: DEFAULT TARGET
# -----------------------------------------------------------------------------
# Running "make" with no args → builds first target
# -----------------------------------------------------------------------------

all: $(TARGET)

$(TARGET): writer.c
	$(CC) -Wall -o $(TARGET) writer.c

# -----------------------------------------------------------------------------
# AXIOM: CLEAN TARGET
# -----------------------------------------------------------------------------
# "make clean" → remove binary + .o files
# rm -f = force remove, no error if missing
# -----------------------------------------------------------------------------

clean:
	rm -f $(TARGET) *.o
